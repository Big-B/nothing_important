+++
title = "Subdomains"
date = 2025-12-04

[taxonomies]
tags = ["networking", "jellyfin"]
+++

I will have to admit that I'm extremely ignorant on how subdomains work. The
goal here is to expose my jellyfin web interface on a mittman.dev subdomain. I
guess my concerns going in are how does nginx know that the access request is to
a subdomain? Presumably all nginx knows is an IP address and port number for an
inbound connection. I guess it's time to start [searching](https://kagi.com/).

Looks like the [nginx config](https://stackoverflow.com/questions/17568981/nginx-two-subdomain-configuration)
is brain-dead simple for subdomains. I guess we'll give it a shot.

Well, to nobody's surprise, it is not as simple as that. Browser suggests that
website doesn't exist and a quick DNS lookup confirms:

```bash
> nslookup jf.mittman.dev
Server:         192.168.1.137
Address:        192.168.1.137#53

Non-authoritative answer:
*** Can't find jf.mittman.dev: No answer
```

This is going to be a bigger issue. I don't have static IP addresses to just
assign to subdomains, so we may need to figure out how to do something like...
mittman.dev/jellyfin to redirect. Seems like that ought to be possible, but
jellyfin runs on an entirely different raspberry pi on the LAN.

While looking into this, jellyfin has an [example nginx config](https://jellyfin.org/docs/general/post-install/networking/reverse-proxy/nginx/).
This relies on a subdomain. I need to study this to see if there's something I
can take from this and apply to my goofy-ass setup.

Oh. So adding jf.mittman.dev as a URL in my cloudflare dns dashboard solved the
problem. Absolutely crazy.
